<?php

declare(strict_types=1);

namespace Tests\Mocks\Pedros80\RTTphp\Services;

use Pedros80\RTTphp\Contracts\Locations;
use function Safe\json_decode;
use stdClass;

final class MockLocationService implements Locations
{
    public function search(string $station, ?string $toStation = null, ?string $date = null, ?string $time = null, bool $arrivals = false): stdClass
    {
        if ($arrivals) {
            $data = match($station) {
                'DAM'   => '{"location":{"name":"Dalmeny","crs":"DAM","tiploc":"DLMY","country":"gb","system":"nr"},"filter":null,"services":[{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2107","gbttBookedDeparture":"2107","origin":[{"tiploc":"DUNDETB","description":"Dundee","workingTime":"195300","publicTime":"1953"}],"destination":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"212900","publicTime":"2129"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2109","realtimeArrivalActual":false,"realtimeDeparture":"2110","realtimeDepartureActual":false,"platform":"1","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y29969","runDate":"2023-09-05","trainIdentity":"1L30","runningIdentity":"1L30","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2117","gbttBookedDeparture":"2117","origin":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"210000","publicTime":"2100"}],"destination":[{"tiploc":"DUNDETB","description":"Dundee","workingTime":"223000","publicTime":"2230"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2116","realtimeArrivalActual":false,"realtimeDeparture":"2117","realtimeDepartureActual":false,"platform":"2","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y29972","runDate":"2023-09-05","trainIdentity":"1L31","runningIdentity":"1L31","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2125","gbttBookedDeparture":"2125","origin":[{"tiploc":"GLNRTHS","description":"Glenrothes with Thornton","workingTime":"204300","publicTime":"2043"}],"destination":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"214600","publicTime":"2146"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2124","realtimeArrivalActual":false,"realtimeDeparture":"2125","realtimeDepartureActual":false,"platform":"1","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y31678","runDate":"2023-09-05","trainIdentity":"2G48","runningIdentity":"2G48","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2135","gbttBookedDeparture":"2135","origin":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"211800","publicTime":"2118"}],"destination":[{"tiploc":"GLNRTHS","description":"Glenrothes with Thornton","workingTime":"221800","publicTime":"2218"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2134","realtimeArrivalActual":false,"realtimeDeparture":"2135","realtimeDepartureActual":false,"platform":"2","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y31771","runDate":"2023-09-05","trainIdentity":"2G93","runningIdentity":"2G93","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2158","gbttBookedDeparture":"2159","origin":[{"tiploc":"DUNDETB","description":"Dundee","workingTime":"204400","publicTime":"2044"}],"destination":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"222100","publicTime":"2221"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2158","realtimeArrivalActual":false,"realtimeDeparture":"2159","realtimeDepartureActual":false,"platform":"1","platformConfirmed":false,"platformChanged":false,"cancelReasonCode":"XC","cancelReasonShortText":"person hit by a train","cancelReasonLongText":"a person hit by a train","displayAs":"CANCELLED_CALL"},"serviceUid":"Y29977","runDate":"2023-09-05","trainIdentity":"1L32","runningIdentity":"1L32","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2217","gbttBookedDeparture":"2217","origin":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"220000","publicTime":"2200"}],"destination":[{"tiploc":"DUNDETB","description":"Dundee","workingTime":"233800","publicTime":"2338"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2216","realtimeArrivalActual":false,"realtimeDeparture":"2217","realtimeDepartureActual":false,"platform":"2","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y29981","runDate":"2023-09-05","trainIdentity":"1L33","runningIdentity":"1L33","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2217","gbttBookedDeparture":"2218","origin":[{"tiploc":"GLNRTHS","description":"Glenrothes with Thornton","workingTime":"213500","publicTime":"2135"}],"destination":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"223700","publicTime":"2237"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2217","realtimeArrivalActual":false,"realtimeDeparture":"2218","realtimeDepartureActual":false,"platform":"1","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y31688","runDate":"2023-09-05","trainIdentity":"2G50","runningIdentity":"2G50","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2233","gbttBookedDeparture":"2233","origin":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"221600","publicTime":"2216"}],"destination":[{"tiploc":"GLNRTHS","description":"Glenrothes with Thornton","workingTime":"231600","publicTime":"2316"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2232","realtimeArrivalActual":false,"realtimeDeparture":"2233","realtimeDepartureActual":false,"platform":"2","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y31773","runDate":"2023-09-05","trainIdentity":"2G95","runningIdentity":"2G95","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2246","gbttBookedDeparture":"2247","origin":[{"tiploc":"DUNDETB","description":"Dundee","workingTime":"212900","publicTime":"2129"}],"destination":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"231200","publicTime":"2312"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2246","realtimeArrivalActual":false,"realtimeDeparture":"2247","realtimeDepartureActual":false,"platform":"1","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y29984","runDate":"2023-09-05","trainIdentity":"1L34","runningIdentity":"1L34","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2317","gbttBookedDeparture":"2318","origin":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"230000","publicTime":"2300"}],"destination":[{"tiploc":"DUNDETB","description":"Dundee","workingTime":"003200","publicTime":"0032"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2317","realtimeArrivalActual":false,"realtimeDeparture":"2318","realtimeDepartureActual":false,"platform":"2","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y29990","runDate":"2023-09-05","trainIdentity":"1L35","runningIdentity":"1L35","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2345","gbttBookedDeparture":"2346","origin":[{"tiploc":"DUNDETB","description":"Dundee","workingTime":"223100","publicTime":"2231"}],"destination":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"000600","publicTime":"0006"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2345","realtimeArrivalActual":false,"realtimeDeparture":"2346","realtimeDepartureActual":false,"platform":"1","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y29994","runDate":"2023-09-05","trainIdentity":"1L36","runningIdentity":"1L36","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true}]}',
                default => '{}',
            };
        } else {

            $data = match ($station) {
                'DAM'   => '{"location":{"name":"Dalmeny","crs":"DAM","tiploc":"DLMY","country":"gb","system":"nr"},"filter":null,"services":[{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2107","gbttBookedDeparture":"2107","origin":[{"tiploc":"DUNDETB","description":"Dundee","workingTime":"195300","publicTime":"1953"}],"destination":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"212900","publicTime":"2129"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2107","realtimeArrivalActual":false,"realtimeDeparture":"2108","realtimeDepartureActual":false,"platform":"1","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y29969","runDate":"2023-09-05","trainIdentity":"1L30","runningIdentity":"1L30","atocCode":"SR","atocName":"ScotRail","serviceType":"bus","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2117","gbttBookedDeparture":"2117","origin":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"210000","publicTime":"2100"}],"destination":[{"tiploc":"DUNDETB","description":"Dundee","workingTime":"223000","publicTime":"2230"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2116","realtimeArrivalActual":false,"realtimeDeparture":"2117","realtimeDepartureActual":false,"platform":"2","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y29972","runDate":"2023-09-05","trainIdentity":"1L31","runningIdentity":"1L31","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2125","gbttBookedDeparture":"2125","origin":[{"tiploc":"GLNRTHS","description":"Glenrothes with Thornton","workingTime":"204300","publicTime":"2043"}],"destination":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"214600","publicTime":"2146"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2124","realtimeArrivalActual":false,"realtimeDeparture":"2125","realtimeDepartureActual":false,"platform":"1","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y31678","runDate":"2023-09-05","trainIdentity":"2G48","runningIdentity":"2G48","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2135","gbttBookedDeparture":"2135","origin":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"211800","publicTime":"2118"}],"destination":[{"tiploc":"GLNRTHS","description":"Glenrothes with Thornton","workingTime":"221800","publicTime":"2218"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2134","realtimeArrivalActual":false,"realtimeDeparture":"2135","realtimeDepartureActual":false,"platform":"2","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y31771","runDate":"2023-09-05","trainIdentity":"2G93","runningIdentity":"2G93","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2158","gbttBookedDeparture":"2159","origin":[{"tiploc":"DUNDETB","description":"Dundee","workingTime":"204400","publicTime":"2044"}],"destination":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"222100","publicTime":"2221"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2158","realtimeArrivalActual":false,"realtimeDeparture":"2159","realtimeDepartureActual":false,"platform":"1","platformConfirmed":false,"platformChanged":false,"cancelReasonCode":"XC","cancelReasonShortText":"person hit by a train","cancelReasonLongText":"a person hit by a train","displayAs":"CANCELLED_CALL"},"serviceUid":"Y29977","runDate":"2023-09-05","trainIdentity":"1L32","runningIdentity":"1L32","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2217","gbttBookedDeparture":"2217","origin":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"220000","publicTime":"2200"}],"destination":[{"tiploc":"DUNDETB","description":"Dundee","workingTime":"233800","publicTime":"2338"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2216","realtimeArrivalActual":false,"realtimeDeparture":"2217","realtimeDepartureActual":false,"platform":"2","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y29981","runDate":"2023-09-05","trainIdentity":"1L33","runningIdentity":"1L33","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2217","gbttBookedDeparture":"2218","origin":[{"tiploc":"GLNRTHS","description":"Glenrothes with Thornton","workingTime":"213500","publicTime":"2135"}],"destination":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"223700","publicTime":"2237"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2217","realtimeArrivalActual":false,"realtimeDeparture":"2218","realtimeDepartureActual":false,"platform":"1","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y31688","runDate":"2023-09-05","trainIdentity":"2G50","runningIdentity":"2G50","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2233","gbttBookedDeparture":"2233","origin":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"221600","publicTime":"2216"}],"destination":[{"tiploc":"GLNRTHS","description":"Glenrothes with Thornton","workingTime":"231600","publicTime":"2316"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2232","realtimeArrivalActual":false,"realtimeDeparture":"2233","realtimeDepartureActual":false,"platform":"2","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y31773","runDate":"2023-09-05","trainIdentity":"2G95","runningIdentity":"2G95","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2246","gbttBookedDeparture":"2247","origin":[{"tiploc":"DUNDETB","description":"Dundee","workingTime":"212900","publicTime":"2129"}],"destination":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"231200","publicTime":"2312"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2246","realtimeArrivalActual":false,"realtimeDeparture":"2247","realtimeDepartureActual":false,"platform":"1","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y29984","runDate":"2023-09-05","trainIdentity":"1L34","runningIdentity":"1L34","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2317","gbttBookedDeparture":"2318","origin":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"230000","publicTime":"2300"}],"destination":[{"tiploc":"DUNDETB","description":"Dundee","workingTime":"003200","publicTime":"0032"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2317","realtimeArrivalActual":false,"realtimeDeparture":"2318","realtimeDepartureActual":false,"platform":"2","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y29990","runDate":"2023-09-05","trainIdentity":"1L35","runningIdentity":"1L35","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true},{"locationDetail":{"realtimeActivated":true,"tiploc":"DLMY","crs":"DAM","description":"Dalmeny","gbttBookedArrival":"2345","gbttBookedDeparture":"2346","origin":[{"tiploc":"DUNDETB","description":"Dundee","workingTime":"223100","publicTime":"2231"}],"destination":[{"tiploc":"EDINBUR","description":"Edinburgh","workingTime":"000600","publicTime":"0006"}],"isCall":true,"isPublicCall":true,"realtimeArrival":"2345","realtimeArrivalActual":false,"realtimeDeparture":"2346","realtimeDepartureActual":false,"platform":"1","platformConfirmed":false,"platformChanged":false,"displayAs":"CALL"},"serviceUid":"Y29994","runDate":"2023-09-05","trainIdentity":"1L36","runningIdentity":"1L36","atocCode":"SR","atocName":"ScotRail","serviceType":"train","isPassenger":true}]}',
                default => '{}',
            };
        }

        return json_decode($data);
    }
}
